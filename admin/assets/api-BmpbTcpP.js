const s="https://api.fxsociety.id";class i extends Error{status;statusText;detail;constructor(e,a,r){super(r?typeof r=="string"?r:r.map(o=>o.msg).join(", "):a),this.name="ApiError",this.status=e,this.statusText=a,this.detail=r}}async function n(t){if(!t.ok){let e;try{e=(await t.json()).detail}catch{}throw new i(t.status,t.statusText,e)}return t.json()}async function u(t,e){const a=new URLSearchParams;a.append("username",t),a.append("password",e);const r=await fetch(`${s}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a});return n(r)}async function d(t,e){const a=`${s}/api/tickets/admin/all${e&&e!=="all"?`?status=${e}`:""}`,r=await fetch(a,{headers:{Authorization:`Bearer ${t}`}});return n(r)}async function h(t,e){const a=`${s}/api/orders/admin/all${e&&e!=="all"?`?status=${e}`:""}`,r=await fetch(a,{headers:{Authorization:`Bearer ${t}`}});return n(r)}async function p(t,e,a){const r=await fetch(`${s}/api/orders/admin/${e}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({status:a})});return n(r)}async function m(t,e=1,a){const r=new URLSearchParams;r.append("page",e.toString());const o=`${s}/api/products/admin/all?${r}`,c=await fetch(o,{headers:{Authorization:`Bearer ${t}`}});return n(c)}async function f(t,e){const a=await fetch(`${s}/api/products/admin`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});return n(a)}async function $(t,e,a){const r=await fetch(`${s}/api/products/admin/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(a)});return n(r)}async function l(t,e){const a=await fetch(`${s}/api/products/admin/${e}/toggle-active`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`}});return n(a)}async function g(t){const e=await fetch(`${s}/api/admin/stats`,{headers:{Authorization:`Bearer ${t}`}});return n(e)}async function y(t,e={}){const a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.search&&a.append("search",e.search),e.tag&&a.append("tag",e.tag),e.sort&&a.append("sort",e.sort);const r=await fetch(`${s}/api/admin/customers?${a}`,{headers:{Authorization:`Bearer ${t}`}});return n(r)}async function A(t,e){const a=await fetch(`${s}/api/admin/customers/${e}`,{headers:{Authorization:`Bearer ${t}`}});return n(a)}async function w(t,e){const a=await fetch(`${s}/api/admin/customers/${e}/orders`,{headers:{Authorization:`Bearer ${t}`}}),r=await n(a);return{items:r,total:r.length}}async function T(t,e){const a=await fetch(`${s}/api/admin/customers/${e}/tickets`,{headers:{Authorization:`Bearer ${t}`}}),r=await n(a);return{items:r,total:r.length}}async function S(t,e){const a=await fetch(`${s}/api/admin/customers/${e}/tags`,{headers:{Authorization:`Bearer ${t}`}});return n(a)}async function C(t,e,a){const r=await fetch(`${s}/api/admin/customers/${e}/tags`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({tag:a})});return n(r)}async function B(t,e,a){const r=await fetch(`${s}/api/admin/customers/${e}/tags/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new i(r.status,r.statusText)}async function z(t,e){const a=await fetch(`${s}/api/admin/customers/${e}/notes`,{headers:{Authorization:`Bearer ${t}`}});return n(a)}async function P(t,e,a){const r=await fetch(`${s}/api/admin/customers/${e}/notes`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({note:a})});return n(r)}async function O(t,e){const a=await fetch(`${s}/api/admin/customers/${e}/activity`,{headers:{Authorization:`Bearer ${t}`}});return n(a)}function _(t){return{id:t.id.toString(),slug:t.slug,title:t.title,description:t.description_short,descriptionFull:t.description_full,price:t.price_idr,category:t.category,imageUrl:t.images?.[0]||"",images:t.images||[],badge:t.badges?.[0]||void 0,isSoldOut:!t.is_active}}function b(t){return{id:t.order_code,numericId:t.id,productId:t.product_id.toString(),productTitle:t.product_title,productPrice:t.product_price,productCategory:t.product_category,productSlug:t.product_slug,productImage:t.product_image||void 0,customerName:t.name,customerEmail:t.email,customerWhatsapp:t.whatsapp,notes:t.notes??void 0,status:t.status,createdAt:t.created_at}}export{i as A,h as a,y as b,b as c,d,A as e,g as f,w as g,T as h,S as i,z as j,O as k,u as l,C as m,P as n,m as o,_ as p,$ as q,B as r,f as s,l as t,p as u};
